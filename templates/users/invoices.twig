{% extends 'base.twig' %}

{% block title %}Mano sąskaitos{% endblock %}

{% block body %}
    <table class="table table-striped table-hover table-bordered">
        <thead>
            <tr>
                <th>Periodas</th>
                <th>{{ "total"|trans }}</th>
                <th>{{ "due_date"|trans }}</th>
                <th>{{ "is_paid"|trans }}</th>
            </tr>
        </thead>
        <tbody>
            {% for invoice in invoices %}
                <tr data-href="/users/invoices/{{ invoice.id }}">
                    <td>{{ invoice.getPeriod() }}</td>
                    <td>{{ (invoice.getInvoiceTotal()/100)|format_currency('EUR') }}</td>
                    <td>
                        {{ invoice.due_date|date('Y-m-d') }}
                        {% if invoice.isDuePassed() %}
                            <span class="badge text-bg-danger">VĖLUOJAMA</span>
                        {% endif %}
                    </td>
                    <td>
                        {% if invoice.is_paid %}
                            <span class="text-success">{{ invoice.is_paid|date('Y-m-d H:i') }}</span>
                            {% if invoice.isPayedPassedDue() %}
                                <span class="badge text-bg-warning">Pavėluotai</span>
                            {% endif %}
                        {% else %}
                            <span class="badge text-bg-danger">{{ "no"|trans }}</span>
                        {% endif %}
                    </td>
                </tr>
            {% else %}
                <tr class="text-center">
                    <td colspan="20">Nėturite išrašytų sąskaitų</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
